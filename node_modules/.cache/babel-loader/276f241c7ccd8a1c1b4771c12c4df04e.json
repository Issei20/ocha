{"ast":null,"code":"var _jsxFileName = \"/home/atsal/Desktop/Perso-Projects/ocha/src/components/Shop.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"./styles/shop.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Shop = _ref => {\n  _s();\n\n  let {\n    products,\n    setProducts,\n    cartQuantity,\n    setCartQuantity,\n    totalPrice,\n    setTotalPrice\n  } = _ref;\n  let cartItems = products;\n  let indexSelectedItem;\n\n  function addToCart(e) {\n    // add 1 to the quantity of the item selected\n    indexSelectedItem = products.findIndex(item => item.id === e.target.id);\n    cartItems[indexSelectedItem].quantity = cartItems[indexSelectedItem].quantity + 1;\n    setProducts(cartItems); //calculate th new quantity in the shoping cart \n\n    var totalQuantity = cartItems.reduce(function (prev, cur) {\n      return prev + cur.quantity;\n    }, 0);\n    setCartQuantity(totalQuantity);\n    var totalPriceValue = cartItems.reduce(function (prev, cur) {\n      return prev + cur.quantity * cur.price;\n    }, 0);\n    setTotalPrice(totalPriceValue);\n  }\n\n  useEffect(() => {\n    console.log(products, cartQuantity);\n  }, [cartQuantity, setCartQuantity]);\n\n  function renderList() {\n    return products.map(item => {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"liItemWrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [item.name, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"itemImg\",\n          src: item.image,\n          alt: \"imgItem\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [item.price, \" $ \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: item.quantity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: item.id,\n          className: \"addToCart\",\n          onClick: e => addToCart(e),\n          children: \"Add to cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 10\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 18\n      }, this);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"shopContainer\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"itemsSection\",\n      children: renderList()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 14\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 12\n  }, this);\n};\n\n_s(Shop, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Shop;\nexport default Shop;\n\nvar _c;\n\n$RefreshReg$(_c, \"Shop\");","map":{"version":3,"sources":["/home/atsal/Desktop/Perso-Projects/ocha/src/components/Shop.js"],"names":["React","useState","useEffect","Shop","products","setProducts","cartQuantity","setCartQuantity","totalPrice","setTotalPrice","cartItems","indexSelectedItem","addToCart","e","findIndex","item","id","target","quantity","totalQuantity","reduce","prev","cur","totalPriceValue","price","console","log","renderList","map","name","image"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,oBAAP;;;AAEA,MAAMC,IAAI,GAAG,QAAuF;AAAA;;AAAA,MAAtF;AAACC,IAAAA,QAAD;AAAWC,IAAAA,WAAX;AAAwBC,IAAAA,YAAxB;AAAsCC,IAAAA,eAAtC;AAAuDC,IAAAA,UAAvD;AAAmEC,IAAAA;AAAnE,GAAsF;AAEhG,MAAIC,SAAS,GAAGN,QAAhB;AACA,MAAIO,iBAAJ;;AAEA,WAASC,SAAT,CAAmBC,CAAnB,EAAsB;AAGnB;AACAF,IAAAA,iBAAiB,GAAGP,QAAQ,CAACU,SAAT,CAAmBC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYH,CAAC,CAACI,MAAF,CAASD,EAAhD,CAApB;AACAN,IAAAA,SAAS,CAACC,iBAAD,CAAT,CAA6BO,QAA7B,GAAwCR,SAAS,CAACC,iBAAD,CAAT,CAA6BO,QAA7B,GAAwC,CAAhF;AACAb,IAAAA,WAAW,CAACK,SAAD,CAAX,CANmB,CAQnB;;AACA,QAAIS,aAAa,GAAGT,SAAS,CAACU,MAAV,CAAiB,UAASC,IAAT,EAAeC,GAAf,EAAoB;AACvD,aAAOD,IAAI,GAAGC,GAAG,CAACJ,QAAlB;AACD,KAFmB,EAElB,CAFkB,CAApB;AAGAX,IAAAA,eAAe,CAACY,aAAD,CAAf;AAEA,QAAII,eAAe,GAAGb,SAAS,CAACU,MAAV,CAAiB,UAASC,IAAT,EAAeC,GAAf,EAAoB;AACzD,aAAOD,IAAI,GAAIC,GAAG,CAACJ,QAAJ,GAAeI,GAAG,CAACE,KAAlC;AACD,KAFqB,EAEpB,CAFoB,CAAtB;AAGAf,IAAAA,aAAa,CAACc,eAAD,CAAb;AAED;;AAEDrB,EAAAA,SAAS,CAAC,MAAM;AACbuB,IAAAA,OAAO,CAACC,GAAR,CAAYtB,QAAZ,EAAsBE,YAAtB;AACF,GAFQ,EAEP,CAACA,YAAD,EAAeC,eAAf,CAFO,CAAT;;AAIA,WAASoB,UAAT,GAAsB;AACpB,WAAQvB,QAAQ,CAACwB,GAAT,CAAab,IAAI,IAAI;AAC3B,0BAAQ;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA,gCACR;AAAA,qBAAIA,IAAI,CAACc,IAAT;AAAA;AAAA;AAAA;AAAA;AAAA,gBADQ,eAER;AAAK,UAAA,SAAS,EAAC,SAAf;AAAyB,UAAA,GAAG,EAAEd,IAAI,CAACe,KAAnC;AAA0C,UAAA,GAAG,EAAC;AAA9C;AAAA;AAAA;AAAA;AAAA,gBAFQ,eAGR;AAAA,qBAAIf,IAAI,CAACS,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHQ,eAIR;AAAA,oBAAIT,IAAI,CAACG;AAAT;AAAA;AAAA;AAAA;AAAA,gBAJQ,eAKR;AAAQ,UAAA,EAAE,EAAEH,IAAI,CAACC,EAAjB;AAAqB,UAAA,SAAS,EAAC,WAA/B;AAA2C,UAAA,OAAO,EAAGH,CAAD,IAAOD,SAAS,CAACC,CAAD,CAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALQ;AAAA,SAAgCE,IAAI,CAACC,EAArC;AAAA;AAAA;AAAA;AAAA,cAAR;AAMD,KAPO,CAAR;AAQD;;AACC,sBACI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA,2BAEE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,gBACEW,UAAU;AADZ;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,UADJ;AAWN,CAnDD;;GAAMxB,I;;KAAAA,I;AAqDN,eAAeA,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport \"./styles/shop.scss\"\n\nconst Shop = ({products, setProducts, cartQuantity, setCartQuantity, totalPrice, setTotalPrice}) => {\n \n    let cartItems = products;\n    let indexSelectedItem;\n   \n    function addToCart(e) {  \n   \n   \n       // add 1 to the quantity of the item selected\n       indexSelectedItem = products.findIndex(item => item.id === e.target.id);\n       cartItems[indexSelectedItem].quantity = cartItems[indexSelectedItem].quantity + 1;\n       setProducts(cartItems)\n   \n       //calculate th new quantity in the shoping cart \n       var totalQuantity = cartItems.reduce(function(prev, cur) {\n         return prev + cur.quantity\n       },0)\n       setCartQuantity(totalQuantity)\n   \n       var totalPriceValue = cartItems.reduce(function(prev, cur) {\n         return prev + (cur.quantity * cur.price)\n       },0)\n       setTotalPrice(totalPriceValue)\n          \n     }\n   \n     useEffect(() => {\n        console.log(products, cartQuantity)\n     },[cartQuantity, setCartQuantity])\n\n     function renderList() {\n       return (products.map(item => {\n         return (<li className=\"liItemWrap\" key={item.id}>\n         <p>{item.name} </p>\n         <img className=\"itemImg\" src={item.image} alt=\"imgItem\"/> \n         <p>{item.price} $ </p>  \n         <p>{item.quantity}</p>\n         <button id={item.id} className=\"addToCart\" onClick={(e) => addToCart(e)}>Add to cart</button></li>)\n       }))\n     }\n       return (\n           <div className='shopContainer'>\n          \n             <div className=\"itemsSection\">\n              {renderList()}\n              </div>\n            \n           </div>\n         );\n       \n       \n}\n\nexport default Shop;"]},"metadata":{},"sourceType":"module"}