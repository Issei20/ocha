{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"./styles/shop.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Shop=function Shop(_ref){var products=_ref.products,setProducts=_ref.setProducts,cartQuantity=_ref.cartQuantity,setCartQuantity=_ref.setCartQuantity,totalPrice=_ref.totalPrice,setTotalPrice=_ref.setTotalPrice;function addToCart(e){var cartItems=products;var indexSelectedItem;// add 1 to the quantity of the item selected\nindexSelectedItem=products.findIndex(function(item){return item.id===e.target.id;});cartItems[indexSelectedItem].quantity=cartItems[indexSelectedItem].quantity+1;setProducts(cartItems);//calculate th new quantity in the shoping cart \nvar totalQuantity=cartItems.reduce(function(prev,cur){return prev+cur.quantity;},0);setCartQuantity(totalQuantity);var totalPriceValue=cartItems.reduce(function(prev,cur){return prev+cur.quantity*cur.price;},0);setTotalPrice(totalPriceValue);}function renderList(){return products.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:\"liItemWrap\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"itemImg\",src:item.image,alt:\"imgItem\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"detailsProduct\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[item.name,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"priceItem\",children:[item.price,\" $ \"]}),/*#__PURE__*/_jsx(\"button\",{id:item.id,className:\"addToCart\",onClick:function onClick(e){return addToCart(e);},children:\"Add to cart\"})]})]},item.id);});}return/*#__PURE__*/_jsxs(\"div\",{className:\"shopContainer\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title-products\",children:\"Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"itemsSection\",children:renderList()})]});};export default Shop;","map":{"version":3,"sources":["/home/atsal/Desktop/perso-pro/ocha/src/components/Shop.js"],"names":["React","useState","useEffect","Shop","products","setProducts","cartQuantity","setCartQuantity","totalPrice","setTotalPrice","addToCart","e","cartItems","indexSelectedItem","findIndex","item","id","target","quantity","totalQuantity","reduce","prev","cur","totalPriceValue","price","renderList","map","image","name"],"mappings":"AACA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,oBAAP,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAyF,IAAtFC,CAAAA,QAAsF,MAAtFA,QAAsF,CAA5EC,WAA4E,MAA5EA,WAA4E,CAA/DC,YAA+D,MAA/DA,YAA+D,CAAjDC,eAAiD,MAAjDA,eAAiD,CAAhCC,UAAgC,MAAhCA,UAAgC,CAApBC,aAAoB,MAApBA,aAAoB,CAKrG,QAASC,CAAAA,SAAT,CAAmBC,CAAnB,CAAsB,CAClB,GAAIC,CAAAA,SAAS,CAAGR,QAAhB,CACA,GAAIS,CAAAA,iBAAJ,CACD;AACAA,iBAAiB,CAAGT,QAAQ,CAACU,SAAT,CAAmB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,EAAL,GAAYL,CAAC,CAACM,MAAF,CAASD,EAAzB,EAAvB,CAApB,CACAJ,SAAS,CAACC,iBAAD,CAAT,CAA6BK,QAA7B,CAAwCN,SAAS,CAACC,iBAAD,CAAT,CAA6BK,QAA7B,CAAwC,CAAhF,CACAb,WAAW,CAACO,SAAD,CAAX,CAEA;AACA,GAAIO,CAAAA,aAAa,CAAGP,SAAS,CAACQ,MAAV,CAAiB,SAASC,IAAT,CAAeC,GAAf,CAAoB,CACvD,MAAOD,CAAAA,IAAI,CAAGC,GAAG,CAACJ,QAAlB,CACD,CAFmB,CAElB,CAFkB,CAApB,CAGAX,eAAe,CAACY,aAAD,CAAf,CAEA,GAAII,CAAAA,eAAe,CAAGX,SAAS,CAACQ,MAAV,CAAiB,SAASC,IAAT,CAAeC,GAAf,CAAoB,CACzD,MAAOD,CAAAA,IAAI,CAAIC,GAAG,CAACJ,QAAJ,CAAeI,GAAG,CAACE,KAAlC,CACD,CAFqB,CAEpB,CAFoB,CAAtB,CAGAf,aAAa,CAACc,eAAD,CAAb,CAED,CAGD,QAASE,CAAAA,UAAT,EAAsB,CACpB,MAAQrB,CAAAA,QAAQ,CAACsB,GAAT,CAAa,SAAAX,IAAI,CAAI,CAC3B,mBAAQ,YAAI,SAAS,CAAC,YAAd,wBACR,YAAK,SAAS,CAAC,SAAf,CAAyB,GAAG,CAAEA,IAAI,CAACY,KAAnC,CAA0C,GAAG,CAAC,SAA9C,EADQ,cAER,aAAK,SAAS,CAAC,gBAAf,wBACA,qBAAIZ,IAAI,CAACa,IAAT,OADA,cAEA,WAAG,SAAS,CAAC,WAAb,WAA0Bb,IAAI,CAACS,KAA/B,SAFA,cAGA,eAAQ,EAAE,CAAET,IAAI,CAACC,EAAjB,CAAqB,SAAS,CAAC,WAA/B,CAA2C,OAAO,CAAE,iBAACL,CAAD,QAAOD,CAAAA,SAAS,CAACC,CAAD,CAAhB,EAApD,yBAHA,GAFQ,GAAgCI,IAAI,CAACC,EAArC,CAAR,CASD,CAVO,CAAR,CAWD,CAEC,mBACI,aAAK,SAAS,CAAC,eAAf,wBACE,WAAI,SAAS,CAAC,gBAAd,sBADF,cAEE,YAAK,SAAS,CAAC,cAAf,UACES,UAAU,EADZ,EAFF,GADJ,CAQC,CAjDL,CAoDA,cAAetB,CAAAA,IAAf","sourcesContent":["\nimport React, { useState, useEffect } from \"react\"\nimport \"./styles/shop.scss\"\n\nconst Shop = ({ products, setProducts, cartQuantity, setCartQuantity, totalPrice, setTotalPrice }) => {\n \n\n\n   \n function addToCart(e) {  \n     let cartItems = products;\n     let indexSelectedItem;\n    // add 1 to the quantity of the item selected\n    indexSelectedItem = products.findIndex(item => item.id === e.target.id);\n    cartItems[indexSelectedItem].quantity = cartItems[indexSelectedItem].quantity + 1;\n    setProducts(cartItems)\n\n    //calculate th new quantity in the shoping cart \n    var totalQuantity = cartItems.reduce(function(prev, cur) {\n      return prev + cur.quantity\n    },0)\n    setCartQuantity(totalQuantity)\n\n    var totalPriceValue = cartItems.reduce(function(prev, cur) {\n      return prev + (cur.quantity * cur.price)\n    },0)\n    setTotalPrice(totalPriceValue)\n       \n  }\n\n\n  function renderList() {\n    return (products.map(item => {\n      return (<li className=\"liItemWrap\" key={item.id}>\n      <img className=\"itemImg\" src={item.image} alt=\"imgItem\"/> \n      <div className=\"detailsProduct\">\n      <p>{item.name} </p>\n      <p className=\"priceItem\">{item.price} $ </p>  \n      <button id={item.id} className=\"addToCart\" onClick={(e) => addToCart(e)}>Add to cart</button>\n      </div>\n      </li>)\n     \n    }))\n  }\n\n    return (\n        <div className='shopContainer'>\n          <h1 className=\"title-products\">Products</h1>\n          <div className=\"itemsSection\">\n           {renderList()}\n           </div>\n        </div>\n      );\n    };\n    \n\nexport default Shop;"]},"metadata":{},"sourceType":"module"}