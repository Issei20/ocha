{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./styles/cart.scss\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(_ref){var products=_ref.products,setProducts=_ref.setProducts,cartQuantity=_ref.cartQuantity,setCartQuantity=_ref.setCartQuantity,totalPrice=_ref.totalPrice,setTotalPrice=_ref.setTotalPrice;function decrementQuantity(e){var indexSelectedItem=products.findIndex(function(item){return item.id===e.target.id;});var itemsArr=products;itemsArr[indexSelectedItem].quantity=itemsArr[indexSelectedItem].quantity-1;setProducts(itemsArr);setCartQuantity(cartQuantity-1);getTotalPrice(itemsArr);}function incrementQuantity(e){var indexSelectedItem=products.findIndex(function(item){return item.id===e.target.id;});var itemsArr=products;itemsArr[indexSelectedItem].quantity=itemsArr[indexSelectedItem].quantity+1;setCartQuantity(cartQuantity+1);setProducts(itemsArr);getTotalPrice(itemsArr);}function removeItem(e){var indexSelectedItem=products.findIndex(function(item){return item.id===e.target.id;});var itemsArr=products;setCartQuantity(cartQuantity-itemsArr[indexSelectedItem].quantity);itemsArr[indexSelectedItem].quantity=0;setProducts(itemsArr);getTotalPrice(itemsArr);}function getTotalPrice(itemsArr){var totalPriceValue=itemsArr.reduce(function(prev,cur){return prev+cur.quantity*cur.price;},0);setTotalPrice(totalPriceValue);}function handle(e){var indexSelectedItem=products.findIndex(function(item){return item.id===e.target.id;});var itemsArr=products;if(e.target.value<1){itemsArr[indexSelectedItem].quantity=1;setProducts(itemsArr);var totalPriceValue=itemsArr.reduce(function(prev,cur){return prev+cur.quantity*cur.price;},0);setTotalPrice(totalPriceValue);var totalQuantity=itemsArr.reduce(function(prev,cur){return prev+cur.quantity;},0);setCartQuantity(totalQuantity);}else if(e.target.value>=0){itemsArr[indexSelectedItem].quantity=parseInt(e.target.value);setProducts(itemsArr);var totalPriceValueIf=itemsArr.reduce(function(prev,cur){return prev+cur.quantity*cur.price;},0);setTotalPrice(totalPriceValueIf);var totalQuantityIf=itemsArr.reduce(function(prev,cur){return prev+cur.quantity;},0);setCartQuantity(totalQuantityIf);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"containerItemsCart\",children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"})]})}),products.map(function(item){if(item.quantity>0){return/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"cartImgItem\",src:item.image,alt:\"imgItem\"}),/*#__PURE__*/_jsx(\"div\",{className:\"itemName\",children:item.name})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"cardCheck\",children:[item.price,\" $ \"]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"quantityCart\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quantityCheck\",children:[/*#__PURE__*/_jsx(\"button\",{id:item.id,onClick:function onClick(e){return decrementQuantity(e);},className:\"incrDecr\",children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputQuantity\",id:item.id,value:item.quantity||0,onChange:function onChange(e){return handle(e);}}),/*#__PURE__*/_jsx(\"button\",{id:item.id,onClick:function onClick(e){return incrementQuantity(e);},className:\"incrDecr\",children:\"+\"})]}),/*#__PURE__*/_jsx(\"button\",{id:item.id,className:\"btnRemove\",onClick:function onClick(e){return removeItem(e);},children:\"Remove\"})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"cardCheck\",children:[item.price*parseInt(item.quantity),\" $\"]})})]})});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"totalPriceCell\",children:[\"Subtotal : \",totalPrice,\" $\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btnCheckoutContainer\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/shop\",style:{textDecoration:'none'},children:[\" \",/*#__PURE__*/_jsx(\"button\",{className:\"checkoutBtnShop\",children:\"Continue shopping\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"checkoutBtn\",onClick:function onClick(){return alert(\"Thank you !\");},children:\"Checkout\"})]})]});};export default Cart;","map":{"version":3,"sources":["/home/atsal/Desktop/Perso-Projects/ocha-shop/src/components/Cart.js"],"names":["React","useEffect","useState","Link","Cart","products","setProducts","cartQuantity","setCartQuantity","totalPrice","setTotalPrice","decrementQuantity","e","indexSelectedItem","findIndex","item","id","target","itemsArr","quantity","getTotalPrice","incrementQuantity","removeItem","totalPriceValue","reduce","prev","cur","price","handle","value","totalQuantity","parseInt","totalPriceValueIf","totalQuantityIf","map","image","name","textDecoration","alert"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport \"./styles/cart.scss\"\nimport { Link } from \"react-router-dom\"\n\nconst Cart = ({products,setProducts, cartQuantity, setCartQuantity, totalPrice, setTotalPrice}) => {\n\n    function decrementQuantity(e) {\n        let indexSelectedItem = products.findIndex(item => item.id === e.target.id);\n        let itemsArr = products;\n        itemsArr[indexSelectedItem].quantity =  itemsArr[indexSelectedItem].quantity - 1;\n        setProducts(itemsArr)\n        setCartQuantity(cartQuantity - 1)\n        getTotalPrice(itemsArr)\n        \n    }\n\n    function incrementQuantity(e) {\n        let indexSelectedItem = products.findIndex(item => item.id === e.target.id);\n        let itemsArr = products;\n        itemsArr[indexSelectedItem].quantity =  itemsArr[indexSelectedItem].quantity + 1;\n        setCartQuantity(cartQuantity + 1)\n        setProducts(itemsArr)\n        getTotalPrice(itemsArr)\n    }\n   \n   function removeItem(e) {\n       let indexSelectedItem = products.findIndex(item => item.id === e.target.id);\n       let itemsArr = products;\n       setCartQuantity(cartQuantity - itemsArr[indexSelectedItem].quantity)\n       itemsArr[indexSelectedItem].quantity = 0;\n       setProducts(itemsArr)\n       getTotalPrice(itemsArr)\n       \n   }\n\n   function getTotalPrice(itemsArr) {\n       var totalPriceValue = itemsArr.reduce(function(prev, cur) {\n        return prev + (cur.quantity * cur.price)\n       },0)\n       setTotalPrice(totalPriceValue)\n   }\n\n\n   function handle(e) {\n    let indexSelectedItem = products.findIndex(item => item.id === e.target.id);\n    let itemsArr = products;\n    if(e.target.value < 1 ) {\n        itemsArr[indexSelectedItem].quantity = 1\n        setProducts(itemsArr)\n          let totalPriceValue = itemsArr.reduce(function(prev, cur) {\n            return prev + (cur.quantity * cur.price)\n          },0)\n          setTotalPrice(totalPriceValue)\n          let totalQuantity = itemsArr.reduce(function(prev, cur) {\n            return prev + cur.quantity\n          },0)\n          setCartQuantity(totalQuantity)\n     } else if (e.target.value >= 0) {\n          itemsArr[indexSelectedItem].quantity = parseInt(e.target.value);\n         setProducts(itemsArr)\n          let totalPriceValueIf = itemsArr.reduce(function(prev, cur) {\n          return prev + (cur.quantity * cur.price)\n      },0)\n          setTotalPrice(totalPriceValueIf)\n          let totalQuantityIf = itemsArr.reduce(function(prev, cur) {\n          return prev + cur.quantity\n      },0)\n          setCartQuantity(totalQuantityIf)\n    }\n\n   }\n\n\n    return (\n        <div className=\"containerItemsCart\">\n            <table>\n            <thead>\n                <tr>\n                    <th>Product</th>\n                    <th>Price</th>\n                    <th>Quantity</th>\n                    <th>Total</th>\n                </tr>\n            </thead>\n        {products.map(item => {\n           if(item.quantity > 0) { \n           return <tbody>\n\n                <tr>\n                    <td><img className=\"cartImgItem\" src={item.image} alt=\"imgItem\"></img><div className=\"itemName\">{item.name}</div></td>\n                    <td><div className=\"cardCheck\">{item.price} $ </div></td>\n                    <td><div className=\"quantityCart\">\n                <div className=\"quantityCheck\">\n                <button id={item.id} onClick={(e) => decrementQuantity(e)} className=\"incrDecr\">-</button>\n                <input className=\"inputQuantity\" id={item.id} value={item.quantity || 0} onChange={(e) => handle(e)}/>\n                <button id={item.id} onClick={(e) => incrementQuantity(e)} className=\"incrDecr\">+</button>\n                </div>\n                <button id={item.id} className=\"btnRemove\" onClick={(e) => removeItem(e)}>Remove</button>\n                </div></td>\n                    <td><div className=\"cardCheck\">{item.price*parseInt(item.quantity)} $</div></td>\n                </tr>\n                \n                </tbody>\n                \n            }})}\n            \n                </table>\n                <div className=\"totalPriceCell\">Subtotal : {totalPrice} $</div>\n                 <div className=\"btnCheckoutContainer\">\n                <Link to=\"/shop\" style={{ textDecoration: 'none' }}> <button className=\"checkoutBtnShop\">Continue shopping</button></Link> \n                     <button className=\"checkoutBtn\" onClick={() => alert(\"Thank you !\")}>Checkout</button>\n                 </div>\n         </div>\n        \n        )\n}\n\nexport default Cart;"]},"metadata":{},"sourceType":"module"}